<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Collaborateurs</title>
        <div th:replace="supervisorFragments :: head_elements"></div>
        <meta charset="utf-8">
    </head>
    <body class="sb-nav-fixed">
    <div th:replace="supervisorFragments :: navbar"></div>
    <div id="layoutSidenav">
        <div th:replace="supervisorFragments :: layoutSidenav_nav"></div>
        <div id="layoutSidenav_content">
			<main>

	<div class ="container" style="margin-top: 3%;">
		<div class = "row">
			<div class = "col-lg-3">
				<a th:href = "@{/collaborators/new}" class = "btn btn-primary btn-sm mb-3">Ajouter un collaborateur</a>
			</div>
		</div>
		<table class = "table table-striped table-bordered">
			<thead class = "table-dark">
				<tr>
					<th>Nom</th>
					<th>Prénom</th>
					<th>Email</th>
					<th>Téléphone</th>
					<th>Etat de compte</th>
					<th>Actions</th>
				</tr>
			</thead>		
			<tbody>
				<tr th:each = "collaboratorDto: ${collaboratorsDto}">
					<td th:text = "${collaboratorDto.firstName}"></td>
					<td th:text = "${collaboratorDto.lastName}"></td>
					<td th:text = "${collaboratorDto.email}"></td>
					<td th:text = "${collaboratorDto.phoneNumber}"></td>
					<td th:text = "${collaboratorDto.status}"></td>
					<td>
						<a th:href = "@{/collaborators/edit/{publicId}(publicId=${collaboratorDto.publicId})}"
						 class = "btn btn-primary">Modifier</a>
						 
						<a th:href = "@{/collaborators/block/{publicId}(publicId=${collaboratorDto.publicId})}" th:class="${collaboratorDto.status}==BLOCKED ? 'btn btn-warning disabled' : 'btn btn-warning'">Bloquer</a> 
					</td>
				</tr>
			</tbody>
		</table>
	</div>

			</main>    
            <div th:replace="supervisorFragments :: footer"></div>
        </div>
    </div>
    <div th:replace="supervisorFragments :: javaScriptLinks"></div>
    </body>
</html>