<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Clients</title>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <div th:replace="supervisorFragments :: head_elements"></div>
        <meta>
    </head>
    <body class="sb-nav-fixed">
    <div th:replace="supervisorFragments :: navbar"></div>
    <div id="layoutSidenav">
        <div th:replace="supervisorFragments :: layoutSidenav_nav"></div>
        <div id="layoutSidenav_content">
			<main>

	<div class="container" style="margin-top: 3%;">
		<div class = "row">
			<div class = "col-lg-3">
				<a th:href = "@{/clients/new}" class = "btn btn-primary btn-sm mb-3">Ajouter un nouveau client</a>
			</div>
		</div>
		<table class = "table table-striped table-bordered">
			<thead class = "table-dark">
				<tr>
					<th>Raison sociale</th>
					<th>Email</th>
					<th>Téléphone</th>
					<th>Etat de compte</th>
					<th> Actions </th>
				</tr>
			</thead>
			<tbody>
				<tr th:each = "clientDto: ${clientsDto}">
					<td th:text = "${clientDto.socialReason}"></td>
					<td th:text = "${clientDto.email}"></td>
					<td th:text = "${clientDto.phoneNumber}"></td>
					<td th:text = "${clientDto.status}"></td>
					<td>
						<a th:href = "@{/clients/edit/{publicId}(publicId=${clientDto.publicId})}"  class = "btn btn-primary">Modifier</a>
						<a th:href = "@{/clients/block/{publicId}(publicId=${clientDto.publicId})}" th:class="${clientDto.status}==BLOCKED ? 'btn btn-warning disabled' : 'btn btn-warning'" >Bloquer</a>
					</td>
				</tr>
			</tbody>
		</table>
		</div>
			</main>    
            <div th:replace="supervisorFragments :: footer"></div>
        </div>
    </div>
    <div th:replace="supervisorFragments :: javaScriptLinks"></div>
    </body>
</html>